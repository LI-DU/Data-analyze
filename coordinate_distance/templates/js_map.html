<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <title>地图显示</title>
    <style>
        html,
        body,
        #container {
          width: 100%;
          height: 100%;
        }
    </style>
</head>
<body>

    <div id="container"></div>
    <script src="https://webapi.amap.com/maps?v=1.4.14&key=1ef4feb796dad8d6892708ab9bc1a8f2"></script>
    <script src="../static/js/marker.js"></script>
    <script src="../static/js/jQuery_v1.12.4.js"></script>
    <script type="text/javascript">

        //地图初始化
        var map = new AMap.Map("container", {
                resizeEnable: true,
                zoom: 10
        });
        //添加缩放按钮
        AMap.plugin([
        'AMap.ToolBar'
    ], function(){
        // 在图面添加工具条控件，工具条控件集成了缩放、平移、定位等功能按钮在内的组合控件
        map.addControl(new AMap.ToolBar({
            // 简易缩放模式，默认为 false
            liteStyle: true
        }));
    });

        $(function() {
            $.ajax({
                url: "http://localhost:8000/",//后台的接口
                type: 'post',
                dataType: 'json'
            })
                .done(function(data){
                    for(var i=0;i<data.coordinate.length;i++) {
                        latit = data.coordinate[i].lng;
                        lngt = data.coordinate[i].lat;
                        var marker = new AMap.Marker({
                            position: [latit, lngt],
                            title: '充电站标记',
                            map: map
                        });
                        //marker.setLabel({content: "鼎充充电站"})
                    }
                })
                 .fail(function(error){
                    console.log(error)
                })

        });

    var list = [{lng:118.903882,lat:32.096447},{lng:106.115543,lat:30.842643},{lng:119.128141,lat:32.485033},{lng:119.062367,lat:31.668073},
        {lng:120.65263,lat:31.148974},{lng:106.4358333,lat:30.5413889},{lng:108.896599,lat:34.243537},{lng:119.039601,lat:31.636894},{lng:120.654624,lat:31.1802},{lng:114.173948,lat:32.130221},{lng:103.746574,lat:29.614128},{lng:120.643735,lat:31.158202},{lng:103.504628,lat:29.601249},{lng:110.887111,lat:35.312043},{lng:110.734151,lat:35.577905},{lng:119.035066,lat:31.657329},
        {lng:120.184158,lat:32.75792},{lng:121.341357,lat:31.28748},{lng:121.325894,lat:31.210143},{lng:107.523397,lat:26.2139},{lng:110.366399,lat:19.925682},{lng:120.23234,lat:33.06652},{lng:119.032257,lat:31.619179},{lng:118.891624,lat:31.628475},{lng:110.368604,lat:19.924965},{lng:120.714519,lat:31.362645},{lng:121.321077,lat:31.202949},{lng:119.860474,lat:32.892321},{lng:119.073508,lat:31.632866},{lng:119.026585,lat:31.657988},{lng:118.881069,lat:31.562393},{lng:114.401587,lat:23.084605},{lng:119.039485,lat:31.661991},{lng:111.007942,lat:35.606543},{lng:120.649454,lat:31.157788},{lng:125.446634,lat:43.885975},{lng:119.02857,lat:31.568331},{lng:119.3998,lat:32.449423},{lng:119.457257,lat:32.107052},{lng:121.451418,lat:31.091072},{lng:103.488545,lat:29.609504},{lng:103.760683,lat:29.606912},{lng:118.733778,lat:32.237002},{lng:109.434454,lat:24.389615},{lng:104.080659,lat:29.671348},{lng:121.479601,lat:31.135112},{lng:109.978555,lat:18.415996},{lng:119.048321,lat:31.65513},{lng:113.392476,lat:33.739973},{lng:110.876457,lat:35.436706},{lng:109.272388,lat:22.388437},{lng:113.178381,lat:22.551061},{lng:117.074962,lat:32.631911},{lng:121.146126,lat:31.189301},{lng:120.605842,lat:31.329393},{lng:103.475677,lat:29.580739},{lng:106.866538,lat:27.804928},{lng:121.775571,lat:31.20008},{lng:118.984293,lat:33.021591},{lng:119.910509,lat:31.362669},{lng:118.913244,lat:32.082557},{lng:118.582462,lat:30.079961},{lng:112.292707,lat:39.542179},{lng:120.651665,lat:31.145963},{lng:119.851777,lat:31.365482},{lng:112.53,lat:37.87},{lng:111.770477,lat:37.147771},{lng:103.771519,lat:29.563603},{lng:103.479526,lat:29.579589},{lng:121.404494,lat:31.868932},{lng:119.072826,lat:31.707607},{lng:104.060471,lat:29.628374},{lng:110.971794,lat:35.609126},{lng:110.803433,lat:35.154225},{lng:119.06138,lat:33.012832},{lng:121.328471,lat:31.099222},{lng:111.600919,lat:22.742499},{lng:119.174539,lat:31.930775},{lng:110.25023,lat:18.729988},{lng:119.053597,lat:31.64201},{lng:119.039395,lat:31.654329},{lng:121.232386,lat:31.364261},{lng:114.420559,lat:30.643513},{lng:109.537442,lat:18.25606},{lng:110.787453,lat:32.609072},{lng:121.326293,lat:31.124721},{lng:109.036538,lat:34.224431},{lng:109.493813,lat:18.280282},{lng:121.483218,lat:31.402923},{lng:113.258484,lat:29.478779},{lng:125.461623,lat:43.867531},{lng:118.8459,lat:31.355746},{lng:103.754601,lat:29.617447},{lng:121.523641,lat:31.294283},{lng:117.163541,lat:34.134888},{lng:114.453498,lat:23.093118},{lng:119.197614,lat:31.634724},{lng:118.677467,lat:31.970021},{lng:110.341642,lat:25.425413},{lng:108.887617,lat:23.805923},{lng:110.670516,lat:35.614312},{lng:121.637716,lat:31.251807},{lng:118.662565,lat:31.953425},{lng:118.912356,lat:32.02022},{lng:108.37288,lat:22.823193},{lng:104.017714,lat:30.628387},{lng:103.463441,lat:29.575159},{lng:114.424754,lat:23.153049},{lng:110.326478,lat:20.060749},{lng:103.748638,lat:29.599294},{lng:104.23598,lat:30.859135},{lng:110.297562,lat:22.342129},{lng:121.690536,lat:31.240832},{lng:110.194558,lat:25.254821},{lng:108.674503,lat:34.333591},{lng:119.224643,lat:31.750449},{lng:103.754521,lat:29.56507},{lng:118.671584,lat:33.726238},{lng:106.860548,lat:27.583179},{lng:114.380391,lat:23.071041},{lng:114.495927,lat:23.001058},{lng:120.871821,lat:29.515497},{lng:118.985683,lat:31.720075},{lng:110.804808,lat:32.618348},{lng:119.830523,lat:31.403708},{lng:119.042359,lat:31.652492},{lng:120.163624,lat:32.491305},{lng:119.90243,lat:32.716042},{lng:121.65262,lat:31.079678},{lng:110.778434,lat:32.613839},{lng:103.770566,lat:29.560991},{lng:118.600043,lat:34.47941},{lng:114.429498,lat:23.043058},{lng:119.4666622,lat:32.4248418},{lng:112.49161,lat:39.299055},{lng:119.059387,lat:31.666543},{lng:110.041428,lat:18.517523},{lng:118.903882,lat:32.096447},{lng:103.479486,lat:29.582946},{lng:119.031795,lat:31.616369},{lng:119.03307,lat:31.693435},{lng:126.722548,lat:45.734154},{lng:119.52227,lat:32.159326},{lng:119.002546,lat:31.401805},{lng:120.843417,lat:31.321711},{lng:103.767554,lat:29.586881},{lng:113.0496,lat:22.636481},{lng:102.988438,lat:29.994051},{lng:120.778604,lat:31.313167},{lng:119.119533,lat:31.69812},{lng:121.44839,lat:30.938674},{lng:121.479372,lat:31.216908},{lng:118.896259,lat:31.925304},{lng:119.787728,lat:31.400896},{lng:119.734477,lat:31.192406},{lng:118.909347,lat:31.577376},{lng:103.746614,lat:29.6151},{lng:120.197472,lat:30.882401},{lng:103.743655,lat:29.599922},{lng:119.513055,lat:32.393171},{lng:118.66243,lat:31.953455},{lng:103.754574,lat:29.611494},{lng:114.577602,lat:23.123171},{lng:109.124177,lat:27.444145},{lng:119.490527,lat:32.139177},{lng:119.38376,lat:32.44389},{lng:109.504295,lat:18.328617},{lng:119.655354,lat:32.263779},{lng:120.651578,lat:31.153099},{lng:121.196644,lat:31.407545},{lng:106.592065,lat:30.444209},{lng:103.47854,lat:29.580863},{lng:118.972444,lat:34.473302},{lng:121.165499,lat:31.89473},{lng:112.73151,lat:22.417795},{lng:119.908559,lat:31.263143},{lng:108.871537,lat:34.165418},{lng:119.774343,lat:31.30138},{lng:119.589669,lat:32.214736},{lng:120.86856,lat:31.139352},{lng:120.707674,lat:31.144501},{lng:120.142337,lat:32.747312},{lng:118.833305,lat:31.874691},{lng:114.450321,lat:23.098801},{lng:103.830543,lat:29.408458},{lng:119.966572,lat:33.155337},{lng:110.053582,lat:18.5158},{lng:103.494548,lat:29.599934},{lng:121.4875096,lat:31.1829283},{lng:113.067997,lat:22.704778},{lng:118.342444,lat:31.7406},{lng:119.730693,lat:33.151079},{lng:121.567681,lat:31.28297},{lng:119.360171,lat:32.392775},{lng:120.650917,lat:31.163602},{lng:110.768067,lat:32.697375},{lng:119.710609,lat:31.180452},{lng:103.491324,lat:29.6076},{lng:108.847391,lat:34.366732},{lng:103.457432,lat:30.622824},{lng:119.200111,lat:33.049225},{lng:120.507138,lat:30.821989},{lng:119.088667,lat:31.588635},{lng:108.000235,lat:22.163396},{lng:119.479547,lat:32.429354},{lng:103.980489,lat:30.541003},{lng:119.054857,lat:31.670254},{lng:120.669473,lat:31.175367},{lng:119.050246,lat:31.66703},{lng:113.0496,lat:22.721847},{lng:110.523369,lat:32.688927},{lng:121.436433,lat:31.941987},{lng:119.03944,lat:31.655132},{lng:118.913441,lat:31.654033},{lng:118.674465,lat:24.769957},{lng:121.06069,lat:31.087504},{lng:119.549147,lat:32.365179},{lng:105.373603,lat:29.1625},{lng:103.766382,lat:29.622468},{lng:117.170785,lat:34.170829},{lng:119.373376,lat:32.365667},{lng:106.089265,lat:30.806554},{lng:119.3997,lat:32.4494},{lng:104.074586,lat:29.641406},{lng:120.070551,lat:32.188163},{lng:120.222412,lat:32.941677},{lng:103.746647,lat:29.598711},{lng:118.351787,lat:35.052913},{lng:108.284487,lat:22.886478},{lng:119.826814,lat:31.464976},{lng:110.821427,lat:32.849127},{lng:116.564383,lat:31.774611},{lng:104.068496,lat:29.6698},{lng:110.792492,lat:32.662502},{lng:103.526503,lat:29.603189},{lng:118.993339,lat:31.645438},{lng:119.379477,lat:33.244813},{lng:118.823362,lat:31.938342},{lng:119.827667,lat:31.382485},{lng:108.646737,lat:34.313691},{lng:113.24404,lat:33.750503},{lng:118.608612,lat:32.000754},{lng:121.450438,lat:31.127678},{lng:119.850717,lat:31.353102},{lng:119.039386,lat:31.655228},{lng:118.210295,lat:37.489349},{lng:113.827561,lat:34.715114},{lng:109.843854,lat:33.526334},{lng:119.463547,lat:32.14051},{lng:118.447609,lat:34.963492},{lng:105.051278,lat:28.732041},{lng:120.098686,lat:33.099542},{lng:112.719434,lat:38.109915},{lng:110.712711,lat:35.588107},{lng:120.513406,lat:31.356826},{lng:112.50378,lat:37.890958},{lng:118.498597,lat:34.51436},{lng:118.794382,lat:34.545066},{lng:121.606671,lat:31.219332},{lng:110.738207,lat:32.650396},{lng:116.191443,lat:33.130578},{lng:103.756271,lat:29.596844},{lng:106.96315,lat:27.701071},{lng:103.748651,lat:29.596269},{lng:120.671043,lat:31.168112},{lng:119.834814,lat:32.9402},{lng:117.201291,lat:34.210066},{lng:106.826747,lat:30.333341},{lng:108.259854,lat:22.848697},{lng:103.771424,lat:29.57946},{lng:121.274536,lat:31.25098},{lng:119.352562,lat:32.394086},{lng:108.247502,lat:22.806139},{lng:113.579224,lat:37.847711},{lng:108.84245,lat:34.327055},{lng:110.766322,lat:32.69742},{lng:119.3998,lat:32.449423},{lng:112.591457,lat:37.790001},{lng:119.445501,lat:32.433728},{lng:119.846404,lat:32.916917},{lng:119.051378,lat:31.629882},{lng:119.376834,lat:32.391349},{lng:119.940597,lat:31.477695},{lng:120.334714,lat:30.167128},{lng:119.445779,lat:32.431418},{lng:103.778909,lat:29.603212},{lng:119.818558,lat:31.400129},{lng:109.46555,lat:19.739742},{lng:103.555408,lat:29.414417},{lng:119.075539,lat:31.741356},{lng:118.919237,lat:31.648405},{lng:103.757448,lat:29.591545},{lng:103.264368,lat:29.575551},{lng:110.57441,lat:35.098111},{lng:111.797768,lat:37.134308},{lng:121.74475,lat:31.202286},{lng:109.052591,lat:34.252954},{lng:121.470422,lat:32.114021},{lng:120.036837,lat:32.206435},{lng:119.089017,lat:32.34568},{lng:106.8,lat:30.3},{lng:106.63958,lat:30.461984},{lng:117.301488,lat:32.705228},{lng:109.989614,lat:24.998843},{lng:103.46571,lat:29.566307},{lng:114.401831,lat:23.070742},{lng:119.433104,lat:32.398324},{lng:113.068445,lat:22.578443},{lng:103.53449,lat:29.608051},{lng:119.125417,lat:31.698996},{lng:110.287537,lat:20.003982},{lng:120.64505,lat:31.161658},{lng:113.542421,lat:37.881745},{lng:114.130479,lat:36.102025},{lng:121.349309,lat:31.098631},{lng:112.478459,lat:37.861815},{lng:116.990378,lat:33.691596},{lng:110.43049,lat:25.190827},{lng:110.852563,lat:35.426418},{lng:110.591155,lat:19.166357},{lng:119.070467,lat:31.538484},{lng:111.761324,lat:37.165266},{lng:109.994078,lat:22.257847},{lng:119.668568,lat:31.57373},{lng:119.193284,lat:31.585666},{lng:117.170407,lat:31.82254},{lng:114.440708,lat:23.015129},{lng:121.538136,lat:31.258604},{lng:119.823706,lat:32.226661},{lng:114.263532,lat:23.175267},{lng:114.005165,lat:33.559433},{lng:104.071667,lat:29.667065},{lng:118.927475,lat:34.715789},{lng:120.485496,lat:29.963783},{lng:103.702416,lat:29.605938},{lng:119.58366,lat:26.462525},{lng:112.562307,lat:37.958626},{lng:119.918486,lat:32.032228},{lng:109.493344,lat:18.280071},{lng:113.331432,lat:22.921542},{lng:119.875416,lat:32.922326},{lng:119.786457,lat:31.432171},{lng:110.872244,lat:35.435419},{lng:119.380503,lat:32.385083},{lng:119.065059,lat:31.515637},{lng:113.370683,lat:23.363276},{lng:119.892084,lat:31.491837},{lng:110.915259,lat:32.592289},{lng:112.205477,lat:22.718705},{lng:121.161651,lat:38.809118},{lng:110.358349,lat:18.801713},{lng:120.281621,lat:33.018869},{lng:114.425868,lat:23.157768},{lng:103.767481,lat:29.599782},{lng:103.746553,lat:29.597453},{lng:109.551483,lat:18.296954},{lng:111.556323,lat:23.247486},{lng:103.724588,lat:29.563525},{lng:103.466514,lat:29.570776},{lng:104.903183,lat:28.58977},{lng:121.588436,lat:31.325545},{lng:103.737485,lat:29.601429},{lng:109.35947,lat:18.299838},{lng:119.435027,lat:32.408544},{lng:110.628659,lat:34.872573},{lng:103.772489,lat:29.589179},{lng:118.882552,lat:32.112955},{lng:120.828406,lat:31.280921},{lng:121.259047,lat:31.17857},{lng:103.689296,lat:29.609659},{lng:110.994567,lat:23.338006},{lng:118.8108083,lat:32.0017292},{lng:119.025444,lat:31.65363},{lng:111.502189,lat:36.066463},{lng:103.466456,lat:29.569503},{lng:119.377487,lat:32.390241},{lng:117.925662,lat:40.906148},{lng:106.073419,lat:30.8065},{lng:114.430584,lat:23.062827},{lng:118.903882,lat:32.096547},{lng:109.582941,lat:18.286655},{lng:118.793564,lat:32.002792},{lng:119.022399,lat:31.692136},{lng:104.021537,lat:30.647474},{lng:121.477531,lat:31.185989},{lng:108.712573,lat:34.33658},{lng:119.75945,lat:31.373961},{lng:120.780622,lat:31.358996},{lng:103.507587,lat:29.622206},{lng:103.746526,lat:29.598471},{lng:113.123189,lat:22.721847},{lng:121.398784,lat:31.045181},{lng:103.741557,lat:29.626843},{lng:119.2152667,lat:32.2817583},{lng:112.425397,lat:37.874372},{lng:103.528678,lat:29.605229},{lng:75.853199,lat:74},{lng:121.267599,lat:31.895825},{lng:120.60988,lat:31.127928},{lng:119.045485,lat:31.811578},{lng:121.321127,lat:31.119722},{lng:112.722556,lat:22.400259},{lng:119.402858,lat:32.451713},{lng:119.053543,lat:31.643071},{lng:119.18947,lat:31.580144},{lng:118.985775,lat:31.398961},{lng:121.328664,lat:31.101894},{lng:103.750635,lat:29.586558},{lng:110.417477,lat:20.022027},{lng:118.903882,lat:32.096647},{lng:103.479567,lat:29.580173},{lng:113.288765,lat:23.062772},{lng:117.225675,lat:31.8252349},{lng:121.383622,lat:31.354011},{lng:108.711684,lat:34.315898},{lng:119.036767,lat:31.654369},{lng:119.797798,lat:31.363378},{lng:110.315358,lat:19.974313},{lng:119.174597,lat:31.930723},{lng:119.337697,lat:33.267496},{lng:103.759609,lat:29.586734},{lng:106.640539,lat:30.461082},{lng:113.323378,lat:23.361004},{lng:119.210684,lat:26.131645},{lng:108.39955,lat:22.788904},{lng:119.330437,lat:33.21069},{lng:118.126558,lat:30.301194},{lng:118.903882,lat:32.096447},{lng:117.538245,lat:32.880705},{lng:110.712563,lat:35.58777},{lng:119.112957,lat:31.309471},{lng:109.465761,lat:19.738755},{lng:104.1744017,lat:30.6700029},{lng:113.736482,lat:34.775747},{lng:118.799161,lat:32.041151}];
    for(var i=0;i<list.length;i++){
        var element = list[i];
        var marker = new AMap.Marker({
            position: new AMap.LngLat(element.lng, element.lat),   // 经纬度对象，也可以是经纬度构成的一维数组[116.39, 39.9]
            //title: '充电站',
            map:map,
            icon: new AMap.Icon({
                //image: "http://webapi.amap.com/theme/v1.3/images/newpc/way_btn2.png",
                icon: "http://webapi.amap.com/theme/v1.3/markers/n/mark_b.png",
                //image: "../static/pic/pile02.png",
                size: new AMap.Size(64, 64),  //图标大小
                imageSize: new AMap.Size(30,30)
        })

        });
        //marker.setLabel({content: "新能源汽车"}),

        // 将创建的点标记添加到已有的地图实例：
        map.add(marker);
        //marker.setLabel({content: "car01"})
    }


/*
        //--动态刷新页面
        function myrefresh()
        {
        window.location.reload();
        }
        setTimeout('myrefresh()',8000); //指定5秒刷新一次
*/
    </script>

</body>
</html>